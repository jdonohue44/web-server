<html>
<head>
  <meta charset=UTF-8>
  <meta name="description" content="Espress News">
  <meta name="keywords" content="Espress, espress, express news, Espress News,">
  <meta name="author" content="Espress">
  <link rel="stylesheet" type="text/css" href="./css/styles.css">
  <link rel="shortcut icon" type="image/png" href="https://espress.s3.amazonaws.com/img/coffee_cup_sm.png"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<body>
  <noscript>
    <h3 align="center" style="color:#424242;">JavaScript Disabled. Check your browser settings.</h3>
  </noscript>

<div class="flex_box_holder">

    <div class="testimonials-container">
      <div class="sample_img">
      </div>
    </div>

    <div class="sign_in_container">

        <div class="sign_in_form">
          <div class="logo_img_home">
            <img src="https://espress.s3.amazonaws.com/img/espress_logo_banner_login.png"></img>
          </div>

          <h2 class="espress-title-message">Sign up to start customizing
          your newsletter.</h2>
          <!-- Input form -->
          <form method="POST">
            <div id="name_box">
                <input type="text" name="Name"  id="name_text" placeholder="Name" autocorrect="off" autocapitalize="off" tabindex=1 maxlength="30" size="30" />
            </div>

            <div id="email_box">
              <input type="text" name="Email" id="email_text" placeholder="Email" autocorrect="off" autocapitalize="off" tabindex=2 maxlength="35" size="40" />
            </div>

            <div class="signup-button-container">
              <input type="submit" name="validate_button" value="Sign up" />
            </div>
          </form>
        </div>

        <div class="info">
          <p id="info_paragraph">
            Already signed up? <a class="login_link" href="javascript:void(0)" onclick="displayLoginLayout()">Log in</a>
          </p>
        </div>

        <div class="footer">
          <p style="color: #999"> &copy; Espresso News, 2020</p>
        </div>

    </div>
</div>

<script>
  document.getElementsByName('validate_button')[0].disabled = true;

  $(document).ready(function() {
    $('#email_text').val('');
    $('#name_text').val('');
  });

  // enable Validate button when Email is Valid
  $('#email_text').bind('input propertychange', function() {
    var email = $('#email_text').val();
    if (validateEmail(email)) {
      $("#email_text").css("border-color", "green");
      document.getElementsByName('validate_button')[0].disabled = false;
      document.getElementsByName('validate_button')[0].style.backgroundColor = "#3897F0";
    } else {
      if(!email.length){
        $("#email_text").css("border-color", "#ccc");
        document.getElementsByName('validate_button')[0].disabled = true;
      }else{
        $("#email_text").css("border-color", "red");
        document.getElementsByName('validate_button')[0].disabled = true;
      }
    }
  });

  function displayLoginLayout(){
    $(".espress-title-message").css("display", "none");
    $("input[type=submit]").text("Log in");
    $("#name_text").css("display","none");
    $("#email_text").css("margin-top","20px");
    $("input[name=validate_button]").val("Log in");
    $(".info").html("<p id='info_paragraph'>Dont have an account? <a class='login_link' href='javascript:void(0)'' onclick='displaySignupLayout()'>Sign up</a></p>");
  }

  function displaySignupLayout(){
    $(".espress-title-message").css("display", "block");
    $("input[type=submit]").text("Sign up");
    $("#name_text").css("display","block");
    $("#email_text").css("margin-top","8px");
    $("input[name=validate_button]").val("Sign up");
    $(".info").html("<p id='info_paragraph'>Already signed up? <a class='login_link' href='javascript:void(0)'' onclick='displayLoginLayout()'>Log in</a></p>");
  }

  function validateEmail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
  }

</script>
</body>
</html>
