<html>
<head>
  <link rel="stylesheet" type="text/css" href="./css/styles.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<body>
<h1 align="center" style="padding:5% 5% 0 5%; font-weight:100; color: #505050;">Confirm your email address to unsubscribe.</h1>

<div class="flex_box_holder">
  <div class="unsubscribe-container">
<!-- Input form -->
    <div class="unsubscribe-form">
      <form method="POST">
          <input type="text" name="Email" id="email_text" placeholder="Email" tabindex=2 maxlength="35" size="40" />
          <div class="signup-button-container">
            <input type="submit" name="validate_button" value="Unsubscribe" />
          </div
      </form>
    </div>
  </div>
</div>

<script>
  document.getElementsByName('validate_button')[0].disabled = true;

  // enable Validate button when Email is Valid
  $('#email_text').bind('input propertychange', function() {
    var text = $(this).val();
    $("#validation_typing").text("");
    var email = $('#email_text').val();
    if (validateEmail(email)) {
      $("#email_text").css("border-color", "green");
      document.getElementsByName('validate_button')[0].disabled = false;
      document.getElementsByName('validate_button')[0].style.backgroundColor = "#3897F0";
    } else {
      if(!email.length){
        document.getElementsByName('validate_button')[0].disabled = true;
      }else{
        $("#email_text").css("border-color", "red");
        document.getElementsByName('validate_button')[0].disabled = true;
      }
    }
  });

  function validateEmail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
  }

</script>
</body>
</html>
